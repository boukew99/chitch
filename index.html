<!doctype html>
<meta charset="UTF-8">

<html lang="en">
<meta charset="UTF-8">
<title>Chitch Help</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" href="public/styles/icon.svg" >
<link rel="stylesheet" href="public/styles/chitch.css">
<script defer src="public/script/ensue.js"></script>

<header>
  <h1>Chitch Software Development Kit</h1>
  <h2>Version <em>0.3</em></h2>
  <p>This is the Chitch Software Development Kit (SDK), used to build the Chitch Website. It is build as a new sustainable Content Management System (CMS). It integrates with the filesystem to achieve transparent data flows and low resource usage. It can be forked and edited for your own blog or application, running locally, on your network or on the world wide web.Visit <a href="https://chitch.org">chitch.org</a> for more information about Chitch.

  <p>Descriptions of jargon in the context of web technology. A more extensive list is available on <a href="https://developer.mozilla.org/en-US/docs/Glossary">MDN Glossary</a>.

</header>

<main>

<section>
  <h2>Hardware Requirements</h2>
  <p>These requirements for Chitch are based on <a href="https://www.debian.org/releases/trixie//armhf/ch03s04.en.html">Debain' Minimum Hardware Requirements</a>.

  <figure>
  <figcaption>Server only</figcaption>
  <dl>
    <dt>RAM</dt>
    <dd>512 MB</dd>
    <dt>Hard Drive</dt>
    <dd>4 GB</dd>
  </dl>
  </figure>

  <figure>
  <figcaption>Development (with web browser)</figcaption>
  <dl>
    <dt>RAM</dt>
    <dd>2 GB</dd>
    <dt>Hard Drive</dt>
    <dd>10 GB</dd>
  </dl>
  </figure>

<section>

<h2>Setup the SDK</h2>
<h3>Download PHP Language Binary</h3>
<p>Chitch provides an optimized PHP runtime.
 <a id="download-link" href="#" download>Detecting your OS...</a>

<details>
  <summary>Manual download options ⬇️</summary>
  <ul id="manual-links"></ul>
</details>

<script>
const releases = [
  { os: "windows", arch: "x86_64", file: "php-windows.zip" },
  { os: "darwin",  arch: "x86_64", file: "php-darwin-x86_64.zip" },
  { os: "darwin",  arch: "aarch64", file: "php-darwin-aarch64.zip" },
  { os: "linux",   arch: "x86_64", file: "php-linux-x86_64.zip" },
  { os: "linux",   arch: "aarch64", file: "php-linux-aarch64.zip" }
];

const baseURL = "https://github.com/boukew99/chitch/releases/download/supplementary/";

const detectOS = () => {
  const p = navigator.platform.toLowerCase();
  if (p.includes("win")) return "windows";
  if (p.includes("mac")) return "darwin";
  if (p.includes("linux")) return "linux";
  return "unknown";
};

const detectArch = () => {
  const ua = navigator.userAgent;
  if (/aarch64|arm64/.test(ua)) return "aarch64";
  if (/x86_64|win64|amd64|x64/.test(ua)) return "x86_64";
  if (/arm/.test(ua)) return "aarch64"; // fallback
  return "unknown";
};

const buildURL = (file, os, arch) =>
  `${baseURL}${file}?os=${encodeURIComponent(os)}&arch=${encodeURIComponent(arch)}&ua=${encodeURIComponent(navigator.userAgent)}`;

const findMatch = (os, arch) =>
  releases.find(r => r.os === os && r.arch === arch);

const renderDownloadLink = () => {
  const link = document.getElementById("download-link");
  const os = detectOS();
  const arch = detectArch();
  const match = findMatch(os, arch);

  if (match) {
    const url = buildURL(match.file, os, arch);
    link.href = url;
    link.textContent = `Download for ${os} ${arch}`;
  } else {
    link.textContent = `Download not available for ${os} ${arch}`;
    link.removeAttribute("download");
  }
};

const renderManualLinks = () => {
  const ul = document.getElementById("manual-links");
  for (const {os, arch, file} of releases) {
    const a = document.createElement("a");
    a.href = buildURL(file, os, arch);
    a.textContent = `${os} ${arch}`;
    a.download = file;

    const li = document.createElement("li");
    li.appendChild(a);
    ul.appendChild(li);
  }
};

document.addEventListener("DOMContentLoaded", () => {
  renderDownloadLink();
  renderManualLinks();
});
</script>

<p>Extract the ZIP file and place the executable beside the project folder:
<pre>
  chitch/
  php(.exe)

  temp/
  database/
  assets/
</pre>

<p>Check if the folder <code>temp</code>, <code>database</code> and <code>assets</code> exists. If not create them above the project root.

  <aside>You may also use your global PHP installation. Run <code>ln -s $(which php)</code> above the project root.</aside>
</section>

<section>

<h3>Run</h3>
<p>The PHP executable contains <a href="https://www.php.net/manual/en/features.commandline.options.php">multiple commandline options</a>. We will use the executable as a server. The option <code>--server</code> starts the built-in web server, which makes it accessible to a web browser. The option <code>--docroot</code> specifies the document root directory, which is the folder that contains the public files of the application.

<details>
  <summary>Windows Platform</summary>
  <p>On Windows, you can run the <code>server.bat</code> file from your file manager
    <p>The server runs in the foreground and you can stop it with <code>Ctrl+C</code>.
</details>
<details>
  <summary>MacOS & Linux Platform</summary>
  <p>On MacOS and Linux, you can run the <code>server.sh</code> file from your terminal or file manager (Finder).
  <p>On <strong>MacOS</strong> you  may need to <a href="https://support.apple.com/guide/mac-help/open-a-mac-app-from-an-unknown-developer-mh40616/mac">allow the binary to run</a>.
</details>

<details>
  <summary>VSCode Editor</summary>
  <p><em>Use the shortcut <code>Ctrl+Shift+B</code> to build the project.</em>
</details>

<p>Once the server is running, open <a href="http://localhost:9000/tools/">http://localhost:9000</a> in your browser.</p>

<p>If you <strong>experience issues with the server</strong>, you can check the <code>../server.log</code> file for error messages.

<p>Note that the target System for deployment is Linux, so there might be minor inconsistencies on other systems.

</section><section>

<h2>Directory Structure</h2>
<table>
  <tr>
    <td>../temp/
    <td>Stores sessions data

  <tr>
    <td>../database/
    <td>Stores submitted data

  <tr>
    <td>../assets/
    <td>Stores submitted files

  <tr>
    <td>library/
    <td>Contains namespaces with functions which can be imported

  <tr>
    <td>public/
    <td>Is the root of the public accessible files

</table>

<h2>Issue reporting</h2>

<p>Issues with the software can be reported at <a href="https://github.com/boukew99/chitch/issues">https://github.com/boukew99/chitch/issues</a>. Please use inclusive language.

<figure>
  <figcaption>Legend has it a Capybara will visit if you contribute to Chitch</figcaption>
  <pre><code>
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣀⣄⣀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣠⣶⣶⣶⣾⣿⠛⢿⣧⣤⣤⣤⣤⣤⣤⣤⣦⣤⣄⣀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢰⣿⠃⠀⠀⠈⠻⠿⠿⠛⠋⠉⠉⠉⠉⠉⠉⢉⣽⣿⠿⣷⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⢿⣷⣄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢠⣾⠟⢁⣤⣬⣿⣧⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣽⡿⠀⠀⠀⠀⠀⣠⣴⣶⠀⠀⠀⠀⢼⣿⠀⠈⠉⣿⡏⣿⡇
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣸⣿⠁⠀⠀⠀⠀⠘⠟⠉⠀⠀⠀⠀⠀⣾⣿⠀⠀⠀⣿⡇⣿⣇
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣴⡿⠃⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠸⣿⡄⠀⠀⠈⠀⣿⡏
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣠⣴⡿⠟⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠹⣿⣦⣀⡀⣰⣿⠃
⠀⠀⠀⠀⠀⠀⠀⠀⠀⣠⣴⣿⠟⠉⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠉⣻⣿⡿⠃⠀
⠀⠀⠀⠀⢀⣤⣶⡿⠿⠟⠉⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣀⣴⣾⠟⠋⠀⠀⠀
⠀⠀⠀⣰⣿⠏⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸⣿⡏⠀⠀⠀⠀⠀⠀
⠀⠀⣼⡿⠃⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸⣿⠀⠀⠀⠀⠀⠀⠀
⠀⣼⡿⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠘⣿⡇⠀⠀⠀⠀⠀⠀
⢀⣿⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣿⣇⠀⠀⠀⠀⠀⠀
⢸⣿⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢹⣿⠀⠀⠀⠀⠀⠀
⠈⣿⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸⣿⡆⠀⠀⠀⠀⠀
⠀⣿⣇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣠⡄⠀⢸⣿⡅⠀⠀⠀⠀⠀
⣰⣾⣿⡄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣰⣿⠃⠀⢸⣿⠆⠀⠀⠀⠀⠀
⣿⣧⣽⣿⣦⣀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣠⣾⣿⠃⠀⠀⢸⣿⠇⠀⠀⠀⠀⠀
⠈⠉⠋⠉⠙⠿⢿⣶⣤⣀⣀⡀⠀⠀⠀⠀⠀⣀⣠⣦⡀⠀⠀⠀⢰⣿⡟⠙⢿⣦⣄⣀⣸⣿⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠈⠙⠛⠛⠿⠿⠿⠿⠿⠿⠟⠛⠻⢿⣦⣤⣤⣾⠟⠀⠀⠀⠉⠛⠛⠛⠋⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠉⠉⠉⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
</code></pre>

</section>

<section>
  <h2>Deployment</h2>
  <p>Chitch is designed to be run on a Linux server. It can be deployed on a web server or run as a standalone application. The recommended way to deploy Chitch is to use a Linux server with PHP installed. You can use a web server like Apache.
  <p>FTP or preferredly SFTP can be used to upload the files to the server.
</section>
</main>
<footer>
    <p>Copyright (c) 2025 Chitch Maintainers.
    <p>Licensed under the reciprocal <a href=license.txt>European Union Public License</a>. <a href="https://eupl.eu/1.2/en/">The EUPL can be read as a web page in different languages</a>
</footer>
